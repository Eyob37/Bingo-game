<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bingo</title>
    <style>
        h2{
            text-align: center;
        }
        table{
            width: 220px;       
            border-collapse: collapse;     
            height: 220px;
            margin: auto;
        }
         td{
            width: 44px;   
            height: 44px;          
            text-align: center;
        }
        
        
    </style>
</head>
<body>
    <h2>This is bingo game</h2>
    <table border="1"></table>
    <script>

                  if (!("Notification" in window)) {

                  } else {
                    Notification.requestPermission().then((permission) => {
                      if (permission === "granted") {
                        showNotification(`${user.name}`, `${lastMessage}`);
                      }
                    });
                  }

if ('serviceWorker' in navigator) {
   navigator.serviceWorker.register('sw.js').then(registration => {
      console.log("Service Worker registered");
      window.swRegistration = registration;
   }).catch(err => {
      alert("Service Worker registration failed: " + err);
   });
} else {
   alert("Service Workers are not supported in this browser.");
}


function showNotification(Uname, messag) {           
   if (!window.swRegistration) {
      alert("Service Worker not ready.");
      return;
   }

   try {
      window.swRegistration.showNotification(Uname, {
         body: messag
      });
   } catch (error) {
      alert("Failed to show notification: " + error.message);
   }
}




const table = document.querySelector("table");
let counter = 1;

function prepareTable() {
    for(let row = 0; row < 5; row++){
       const tr = document.createElement("tr");    
       table.appendChild(tr);
       for(let column = 0; column < 5; column++){ 
          const td = document.createElement("td");
          td.dataset.row =  row;
          td.dataset.column =  column;          
          tr.appendChild(td);          
          td.addEventListener("click", () => {
             if(td.innerHTML != "") return;
              td.textContent = counter;             
              if(counter >= 25) alert("the game is started");
              counter++
          });
       }
    }
}  

prepareTable();       
    </script>
</body>
</html>
